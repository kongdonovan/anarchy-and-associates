{"version":3,"file":"rollback-service.js","sourceRoot":"","sources":["../../../src/infrastructure/unit-of-work/rollback-service.ts"],"names":[],"mappings":"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"}